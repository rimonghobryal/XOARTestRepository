{
	"author": "Randy Uhrlaub",
	"authorImage": "",
	"beta": false,
	"cacheVersn": 0,
	"categories": [
		"Utilities"
	],
	"certification": "",
	"contentItemTypes": [
		"automation",
		"dashboard"
	],
	"contentItems": {
		"automation": [
			{
				"description": "Collects metrics for a time window and the top 20 incident types in that period. Creates a small CSV with four tables 1) All Incidents 2) Closed Incidents 3) Open Duration 4) SLA timer durations. The time window is expected to be a complete month specified by the \"firstday\" and \"lastday\" arguments. If partial months are used, the open durations and SLA metrics is the average of the last set of incidents found, while incident counts are incremented.\n\nThe \"slatimers\" argument is a CSV list of custom SLA timer fields to include in the metrics. \n\n       Example: slatimers=\"customsla1,customsla2,customsla3\"\n\nThe \"filters\" argument is a CSV list thats support the following field names to filter incidents on: status, notstatus, type, severity, owner:\n\n        \"severity\" values are: unknown, information, low, medium, high, critical\n         \"status or notstatus\" values are: pending, active, done, archive\n        \"type\" is the name of a single incident type\n         \"owner\" is the name of a single incident owner\n\n          Example: filters =\"type=typea,status=done,severity=high\"\n\nIf the \"query\" parameter is passed, the \"filters\" argument is ignored. The \"query\" parameter is a Lucene/Bleve search string in the incidents search box. The \"query\" string is used to select which incidents - do not specify any dates. These are controlled by the \"firstday\" and \"lastday\" parameters.\n\nIf the \"windowstart\" and \"windowend\" parameters are passed with the name of timer fields, the duration is calculated from windowend.endDate - windowstart.startDate for the \"UserWindow\" SLA metric.\n\nThe \"mode\" argument controls saving monthly statistics in this year's XSOAR list (a JSON object) as specified in the \"thisyearlist\" argument. The default mode is \"increment\" and expects the time windows for each query to be contiguous with no gaps or overlaps in the time window specified by the \"firstday\" and \"lastday\" arguments. If the time windows overlap, then incidents will be double counted. If there are gaps between time windows, then incidents may be missed. If the query needs to run and not update the saved statistics, use \"mode=noupdate\". In the event a month in the saved statistics becomes corrupted, this is corrected by using \"mode=initialize\" with the first day and the last day of the month to reset the values.\n\nThe \"computeduration\" argument allows the overall incident open duration to be computed from the created and closed dates versus using the openDuration field. Set to \"yes\" to use computed duration. This is helpful when incidents do not have valid data in the openDuration field.",
				"name": "XSOARValueMetrics",
				"tags": []
			},
			{
				"description": "",
				"name": "XMetricsYear",
				"tags": [
					"widget"
				]
			},
			{
				"description": "",
				"name": "XMetricsTotal",
				"tags": [
					"widget"
				]
			},
			{
				"description": "",
				"name": "XMetrics",
				"tags": [
					"widget"
				]
			}
		],
		"classifier": null,
		"dashboard": [
			{
				"name": "XSOAR Value Metrics"
			},
			{
				"name": "CISOMetrics"
			}
		],
		"genericfield": null,
		"generictype": null,
		"incidentfield": null,
		"incidenttype": null,
		"indicatorfield": null,
		"integration": null,
		"layoutscontainer": null,
		"list": null,
		"playbook": null,
		"report": null,
		"reputation": null,
		"widget": null,
		"wizard": null
	},
	"currentVersion": "2.0.2",
	"definitionId": "",
	"dependencies": {
		"Base": {
			"author": "Cortex XSOAR",
			"certification": "certified",
			"mandatory": true,
			"minVersion": "1.34.4",
			"name": "Base"
		},
		"DemistoRESTAPI": {
			"author": "Cortex XSOAR",
			"certification": "certified",
			"mandatory": true,
			"minVersion": "1.3.55",
			"name": "Cortex REST API"
		}
	},
	"deprecated": false,
	"description": "A pack that contains community dashboards",
	"disabledMonthly": false,
	"downloads": 66,
	"eulaLink": "https://github.com/demisto/content/blob/master/LICENSE",
	"fromServerVersion": "6.0.0",
	"general": [
		"generalFieldFree"
	],
	"id": "CommunityCommonDashboards",
	"installMessage": "",
	"integrations": [
		{
			"imagePath": "content/packs/DemistoRESTAPI/CoreRESTAPI_image.png",
			"name": "Core REST API"
		},
		{
			"imagePath": "content/packs/DemistoRESTAPI/DemistoRESTAPI_image.png",
			"name": "Demisto REST API (Deprecated)"
		}
	],
	"itemVersion": "2.0.2",
	"keywords": [],
	"legacy": true,
	"name": "Community Common Dashboards",
	"packID": "CommunityCommonDashboards",
	"packName": "",
	"premium": false,
	"previewOnly": false,
	"price": 0,
	"propagationLabels": [
		"all"
	],
	"rawKeywords": null,
	"rawTags": null,
	"rawUseCases": null,
	"readme": "# Community Common Dashboards\nThis content pack contains two dashboards:\n\n* CISO Metrics\n* XSOAR Value Metrics\n\n## CISO Metrics Dashboard\n\nThis dashboard uses OOTB widgets configured to present a consistent overview of XSOAR operation.\n\n## XSOAR Value Metrics Dashboard\n\nThis dashboard provides XSOAR value metrics for the XSOAR implementation:\n\n* Time to respond to alerts\n* Cost to respond to alerts\n\nTime to respond metrics are measured by overall incident duration and SLA timers that have been implemented. Cost to respond is based on per XSOAR incident type estimates of the effort it would take to respond to an alert without use of XSOAR compared to the time to respond to the alert with XSOAR and the quantity of alerts processed by XSOAR.  The mix of alerts and the relative costs of handling different types of alerts factor into the overall cost to respond.  An automation is ran periodically to collect incident statistics and stores the results in XSOAR lists.  This allows monitoring metrics over years without the requirement of incidents being retained - for long term trending within the XSOAR console.  The automation manages the current year metrics and previous year metrics. Dashboard widgets retreive data from these lists for display. Additional functionality is available through adding lists and customization of the automation and script arguments to use these lists.\n\nThere are three XSOAR lists used by the automations and dashboard:\n\n* Incident effort - user provided estimates for each incident type\n* This year metrics - populated by **XSOARValueMetrics**\n* Last year metrics - populated by **XSOARValueMetrics**\n\n### Setup and Use\n\nAfter installing this content pack, setup the **XSOAR Value Metrics** dashboard as follows:\n\n* Run the **XSOARValueMetrics** automation in the playground and identify the incident types found\n* Create the **IncidentEffort** XSOAR list (default list name) and provide the manual and automated effort to respond estimates for each incident type\n* Review the **XSOAR Value Metrics** dashboard\n\nThe **XSOARValueMetrics** automation is executed periodically to collect incident statistics, monthly or quarterly for example.  You may want to wait a month before executing the automation to allow incident closure to occur.  For example, for a windows Jan 1st - Mar 31st, execute this automation May 1st. The expected duration of incidents determines if this delay makes sense. If incident open duration is days, then delaying a month may make sense. If incidents are close within a day the are created in XSOAR, then executing this on April 1st for a Q1 window is reasonable.\n\n### XSOAR Lists Used\n\nThe dashboard and widgets can be customized and extended by using additional lists as needed. The **XSOARValueMetrics** automation and the **XSOAR Value Metrics** dashboard by default are configured to use the following list names:\n\n* **IncidentEffort**\n* **MetricsThisYear**\n* **MetricsLastYear**\n\n#### Incident Effort XSOAR List\n\nThe incident effort list is a JSON dictonary with two values for each XSOAR incident type with a format of:  **incident_type_name: [Manual_effort, Automated_effort]**\n\n* **Manual_effort**: average analyst minutes per incident if the incident is responded to without XSOAR\n* **Automated_effort**: average analyst minutes per incident if the incident is responded to with XSOAR\n\nExample:\n```\n    {\n\t    \"Malware\": [20, 2],\n\t    \"CloudAccess\": [10, 0],\n\t    \"Phishing\": [45, 7]\n    }\n```\n\n#### This Years Metric and Last Years Metric XSOAR Lists\n\nThe **XSOARValueMetrics** automation updates JSON dictionaries stored in these lists containing the monthly metrics collected. The dashboard widgets pull data from these lists for display.\n\nExample:\n```\n    {\n        \"YEAR\": \"2023\", \n        \"Incidents\": {\n            \"TestMalware\": {\"Jan\": \"0\", \"Feb\": \"0\", \"Mar\": \"0\", \"Apr\": \"0\", \"May\": \"0\", \"Jun\": \"0\", \"Jul\": \"0\", \"Aug\": \"0\", \"Sep\": \"0\", \"Oct\": \"0\", \"Nov\": \"672\", \"Dec\": \"455\"}, \n            \"CloudAccess\": {\"Jan\": \"0\", \"Feb\": \"0\", \"Mar\": \"0\", \"Apr\": \"0\", \"May\": \"0\", \"Jun\": \"0\", \"Jul\": \"0\", \"Aug\": \"0\", \"Sep\": \"0\", \"Oct\": \"0\", \"Nov\": \"1\", \"Dec\": \"0\"} \n        }, \n        \"Closed Incidents\": {\n            \"TestMalware\": {\"Jan\": \"0\", \"Feb\": \"0\", \"Mar\": \"0\", \"Apr\": \"0\", \"May\": \"0\", \"Jun\": \"0\", \"Jul\": \"0\", \"Aug\": \"0\", \"Sep\": \"0\", \"Oct\": \"0\", \"Nov\": \"672\", \"Dec\": \"60\"}, \n            \"CloudAccess\": {\"Jan\": \"0\", \"Feb\": \"0\", \"Mar\": \"0\", \"Apr\": \"0\", \"May\": \"0\", \"Jun\": \"0\", \"Jul\": \"0\", \"Aug\": \"0\", \"Sep\": \"0\", \"Oct\": \"0\", \"Nov\": \"0\", \"Dec\": \"0\"} \n        }, \n        \"Incident Open Duration\": {\n            \"TestMalware\": {\"Jan\": \"0\", \"Feb\": \"0\", \"Mar\": \"0\", \"Apr\": \"0\", \"May\": \"0\", \"Jun\": \"0\", \"Jul\": \"0\", \"Aug\": \"0\", \"Sep\": \"0\", \"Oct\": \"0\", \"Nov\": \"2849292\", \"Dec\": \"8166\"}, \n            \"CloudAccess\": {\"Jan\": \"0\", \"Feb\": \"0\", \"Mar\": \"0\", \"Apr\": \"0\", \"May\": \"0\", \"Jun\": \"0\", \"Jul\": \"0\", \"Aug\": \"0\", \"Sep\": \"0\", \"Oct\": \"0\", \"Nov\": \"0\", \"Dec\": \"0\"} \n        }, \n        \"SLA Metrics\": {\n            \"contime\": {\"Jan\": \"0\", \"Feb\": \"0\", \"Mar\": \"0\", \"Apr\": \"0\", \"May\": \"0\", \"Jun\": \"0\", \"Jul\": \"0\", \"Aug\": \"0\", \"Sep\": \"0\", \"Oct\": \"0\", \"Nov\": \"0\", \"Dec\": \"0\"}, \n            \"dettime\": {\"Jan\": \"0\", \"Feb\": \"0\", \"Mar\": \"0\", \"Apr\": \"0\", \"May\": \"0\", \"Jun\": \"0\", \"Jul\": \"0\", \"Aug\": \"0\", \"Sep\": \"0\", \"Oct\": \"0\", \"Nov\": \"0\", \"Dec\": \"0\"}, \n            \"remtime\": {\"Jan\": \"0\", \"Feb\": \"0\", \"Mar\": \"0\", \"Apr\": \"0\", \"May\": \"0\", \"Jun\": \"0\", \"Jul\": \"0\", \"Aug\": \"0\", \"Sep\": \"0\", \"Oct\": \"0\", \"Nov\": \"0\", \"Dec\": \"0\"}, \n            \"asstime\": {\"Jan\": \"0\", \"Feb\": \"0\", \"Mar\": \"0\", \"Apr\": \"0\", \"May\": \"0\", \"Jun\": \"0\", \"Jul\": \"0\", \"Aug\": \"0\", \"Sep\": \"0\", \"Oct\": \"0\", \"Nov\": \"28\", \"Dec\": \"36\"}, \n            \"tritime\": {\"Jan\": \"0\", \"Feb\": \"0\", \"Mar\": \"0\", \"Apr\": \"0\", \"May\": \"0\", \"Jun\": \"0\", \"Jul\": \"0\", \"Aug\": \"0\", \"Sep\": \"0\", \"Oct\": \"0\", \"Nov\": \"0\", \"Dec\": \"0\"}\n        }\n    }\n```\n\n### Automations\n\n#### XSOARValueMetrics\n\nThis automation collects metrics for a specified time window and generates metrics for the top 20 incident types in that time period. The automation creates a small CSV with four tables in the war room as well as storing the metrics in JSON dictionaries in two XSOAR lists specified in the \"thisyearlist\" and \"lastyearlist\" arguments. The four tables in the war room CSV contain annual data for:\n\n* All Incidents\n* Closed Incidents\n* Open Duration\n* SLA Timer Durations  \n\nThe time window is expected to be a complete month specified by the \"firstday\" and \"lastday\" arguments. If partial months are used, the open durations and SLA metrics is the average of the last set of incidents found, while incident counts are incremented. For more details on how the data is updated, see the \"mode\" argument for different options.\n\n##### Inputs\n* firstday - required argument to set the start day for searching incidents\n\nExample:\n    ```firstday=2024-01-01```\n\n* lastday - required argument to set the last day for searching incidents\n\nExample:\n    ```lastday=2024-03-31```\n\n* thisyearlist - required argument for XSOAR list where current year results are stored\n\nExample:\n    ```thisyearlist=MetricsThisYear```\n\n* lastyearlist - required argument for XSOAR list when the year rolls, \"thisyearslist\" is copied here\n\nExample:\n    ```lastyearlist=MetricsLastYear```\n\n* mode -  argument controls saving monthly statistics in this year's XSOAR list (a JSON object) as specified in the \"thisyearlist\" argument:  \n    * increment\n    * noupdate\n    * initialize\n\nThe default mode is \"mode=increment\" and expects the time windows for each query to be contiguous months with no gaps or overlaps in the time window specified by the \"firstday\" and \"lastday\" arguments. If the time windows overlap, then incidents will be double counted. If there are gaps between time windows, then incidents may be missed.  If the query needs to run and not update the saved statistics, use \"mode=noupdate\".  In the event a month with saved statistics needs to be rebuilt, use \"mode=initialize\" with the first day and the last day of the month to reset the values.\n\n* slatimers - optional argument for a CSV list of custom SLA timer fields to include in the metrics \n\nExample:\n    ```slatimers=\"customsla1,customsla2,customsla3\"```\n\n* filters - optional argument is a CSV list thats support the following field names to filter incidents on:\n    * severity              \n        * unknown\n        * information\n        * low\n        * medium\n        * high\n        * critical\n    * status or notstatus\n        * pending\n        * active\n        * done\n        * archive\n    * type\n        * is the name of a single incident type\n    * owner\n        * is the name of a single incident owner\n\nExample: \n    ```filters=\"type=typea,status=done,severity=high\"```\n\n* query - if this parameter is passed, the \"filters\" argument is ignored. The \"query\" parameter is a Lucene/Bleve search string the same as is used in the incidents search box in the XSOAR console.  The \"query\" string is used to select which incidents - you do not specify any dates. These are controlled by the \"firstday\" and  \"lastday\" parameters.\n\n* windowstart and windowend - if these parameters are passed with the name of timer fields as values, the duration is calculated from **windowend.endDate** - **windowstart.startDate** for the \"UserWindow\" synthetic SLA metric\n\n* esflag - If using Elasticsearch, you may need to set this to \"true\" if more than 10000 incidents in a two day period.  Elasticsearch has a 10000 incident search limit and this flag reduces the search windows from 2 days to to 4 hours\n\n#### XMetrics\n\nDashboard widget script that presents monthly values over the year from the metrics list\n\n##### Inputs\n\n* listname - the XSOAR list with stored metrics for the year\n* efflistname - XSOAR incident effort list with manual and automated effort estimates by incident type\n* metrictype - type of metric to display in the dashboard widget\n    * SLA Metrics\n    * Closed Incidents\n    * Incidents\n    * Incident Open Duration\n    * Effort Reduction\n\nExample: \n    ```XMetrics listname=MetricsThisYear efflistname=IncidentEffort metrictype=\"SLA Metrics\"```\n\n#### XMetricsTotal\n\nDashboard widget script that presents annual totals over the current year from the metrics list\n\n##### Inputs\n\n* listname - the XSOAR metrics list with stored metrics for the year\n* efflistname - XSOAR incident effort list with manual and automated effort estimates by incident type\n* metrictype - type of metric to display in the dashboard widget\n    * SLA Metrics\n    * Closed Incidents\n    * Incidents\n    * Incident Open Duration\n    * Effort Reduction\n\nExample: \n    ```XMetricsTotal listname=MetricsThisYear efflistname=IncidentEffort metrictype=\"Effort Reduction\"```\n\n#### XMetricsYear\n\nDashboard widget script that reads the year from a metric list\n\n##### Inputs\n\n* listname - the XSOAR metrics list with stored metrics for the year\n\nExample: \n    ```XMetricsYear listname=MetricsLastYear```\n\n\n",
	"searchRank": 0,
	"serverMaxVersion": "",
	"serverMinVersion": "6.0.0",
	"support": "community",
	"supportDetails": {
		"email": "",
		"url": ""
	},
	"tags": [],
	"toServerVersion": "",
	"updated": "2024-05-20T09:26:48Z",
	"useCases": [],
	"version": -1,
	"versionInfo": "1027410",
	"videos": []
}